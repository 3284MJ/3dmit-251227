<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>3D Viewer - Mitsuhashi Manual</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="status-log" class="ui-panel">Status: Initializing...</div>
    <div id="help-btn" class="ui-panel" onclick="openHelpMenu()">操作説明</div>
    <div id="emote-pop">！</div>

    <div id="help-modal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <span id="modal-title">メニュー</span>
                <span style="cursor:pointer; font-size:20px;" onclick="closeModal()">×</span>
            </div>
            <div id="menu-list"></div>
            <div id="detail-area" class="detail-view">
                <div id="detail-content"></div>
                <div class="btn-group">
                    <button class="btn" style="background:#ddd" onclick="showList()">戻る</button>
                    <button class="btn btn-close" onclick="closeModal()">閉じる</button>
                </div>
            </div>
        </div>
    </div>

    <div id="debug-panel">
        <div class="debug-title">DEBUG MENU</div>
        <div class="debug-section">
            <div class="debug-label">INITIALIZE</div>
            <div class="debug-row">
                <button class="debug-btn" onclick="resetCamera()">Reset Camera</button>
                <button class="debug-btn" onclick="resetModel()">Reset Model</button>
            </div>
        </div>
        <div class="debug-section">
            <div class="debug-label">PARAMETERS</div>
            <label>Walk Speed: <span id="val-walk">0.06</span></label>
            <input type="range" min="0.01" max="0.2" step="0.01" value="0.06" oninput="updateParam('walk', this.value)">
            <div style="height:10px"></div>
            <label>Dash Speed: <span id="val-dash">0.12</span></label>
            <input type="range" min="0.05" max="0.4" step="0.01" value="0.12" oninput="updateParam('dash', this.value)">
        </div>
        <button class="btn btn-close" style="width:100%" onclick="closeDebug()">CLOSE</button>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.166.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.166.1/examples/jsm/"
            }
        }
    </script>
    
    <script type="module" src="app.js"></script>
</body>
</html>
